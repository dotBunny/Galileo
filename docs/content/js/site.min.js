$(function(){"use strict";var t,i,a,o,e=0,s=77,n="IntersectionObserver"in window;function c(){$(window).width(),t=$(window).height(),i=!!$(".mob-icon").is(":visible"),s=$("header").height(),$(".block.type-2 .col-md-6.col-md-push-6").height($(".block.type-2 .col-md-4.col-md-pull-6").height()),$(".page-404 .table-view").css({height:t})}c(),$(document).ready(function(){n||$(".lazy").each(function(){$(this).css("background-image","url("+$(this).attr("data-src")+")")}),tippy(".tip",{delay:100,arrow:!0,inertia:!0,arrowType:"sharp",size:"large",duration:500,animation:"shift-away",interactive:!0,theme:"dark"})}),$(window).on("load",function(){if((a=(location.href.split("#")[1]||"").toLowerCase()).length&&$('.scroll-to-block[data-id="'+a+'"]').length){i?window.scroll({top:$('.scroll-to-block[data-id="'+a+'"]').offset().top-s,behavior:"instant"}):window.scroll({top:$('.scroll-to-block[data-id="'+a+'"]').offset().top-s+$('.scroll-to-block[data-id="'+a+'"]').data("scroll-offset"),behavior:"instant"});var t=$("#tab-"+a+".tabs-switch");if(t.length>0){if($(t).hasClass("active")||e)return!1;e=1,$(t).parent().find(".active").removeClass("active"),$(t).addClass("active");var n=$("#tab-"+a+"-tab");$(t).closest(".tabs-switch-container").find(".tabs-entry:visible").fadeOut("fast",function(){n.fadeIn("fast",function(){e=0})})}var c=$("#filter-"+a);if(c.length>0){if($(c).hasClass("active"))return!1;$(c).parent().find(".active").removeClass("active"),$(c).addClass("active"),d("filter-"+a)}}$("body").addClass("loaded"),o=!0,r()}),$(window).resize(function(){c()}),window.addEventListener("orientationchange",function(){c()},!1);var l;function r(){if(o){var t=$(window).scrollTop();i||$("header").hasClass("default-act")||($(window).scrollTop()>=25?$("header").addClass("act"):$("header").removeClass("act")),$(".scroll-to-block").length&&$(".scroll-to-block").each(function(i,o){if($(o).offset().top<=t+s&&$(o).offset().top+$(o).height()>t+s)return $(".scroll-to-link.act").removeClass("act"),$('.scroll-to-link[data-id="'+$(o).attr("data-id")+'"]').addClass("act"),a!="#"+$(o).attr("data-id")&&(a="#"+$(o).attr("data-id"),window.location.hash=a),!1})}}function d(t){"*"==t?$(".sorting-container > div").each(function(){$(this).show()}):$(".sorting-container > div").each(function(){$(this).hasClass(t)?$(this).show():$(this).hide()})}$(window).scroll(function(){r()}),$(".scroll-to-link").on("click",function(){var t=$(this).attr("href").split("#")||"";return t.length&&$('.scroll-to-block[data-id="'+t[1]+'"]').length&&(i?$("body, html").animate({scrollTop:$('.scroll-to-block[data-id="'+t[1]+'"]').offset().top-s},500):$("body, html").animate({scrollTop:$('.scroll-to-block[data-id="'+t[1]+'"]').offset().top-s+$('.scroll-to-block[data-id="'+t[1]+'"]').data("scroll-offset")},500)),$("header").removeClass("act-mob"),$(".mob-icon").removeClass("act"),!1}),$(".responsive-filtration-toggle a").on("click",function(){if($(this).hasClass("active"))return!1;$(this).parent().find(".active").removeClass("active"),$(this).addClass("active"),a=$(this).data("filter").replace("filter-",""),window.location.hash=a,d($(this).data("filter"))}),$(".mob-icon").on("click",function(){$(this).hasClass("act")?($(".mob-icon").removeClass("act"),$("header").removeClass("act-mob")):($(".mob-icon").addClass("act"),$("header").addClass("act-mob"))}),$(".play, .open-video-popup").on("click",function(){return l=$(this),$(".video-popup").addClass("act-act"),$(".video-popup").addClass("act"),setTimeout(function(){$(".video-popup iframe").attr("src",l.attr("data-src")),setTimeout(function(){$(".video-popup iframe").addClass("act"),$(".video-popup a").addClass("act")},350)},710),!1}),$(".video-popup a").on("click",function(){return $(".video-popup iframe").removeClass("act"),$(".video-popup a").removeClass("act"),setTimeout(function(){$(".video-popup iframe").attr("src",""),$(".video-popup").removeClass("act"),setTimeout(function(){$(".video-popup").removeClass("act-act")},500)},500),!1}),$(".tabs-switch").on("click",function(){if($(this).hasClass("active")||e)return!1;e=1,$(this).parent().find(".active").removeClass("active"),$(this).addClass("active");var t=String($(this).attr("id")).replace("tab-","");a!="#"+$(this).attr("id")&&(a=t,window.location.hash=a);var i=$(this).parent().find(".tabs-switch").index(this),o=$(this).closest(".tabs-switch-container");o.find(".tabs-entry:visible").fadeOut("fast",function(){o.find(".tabs-entry").eq(i).fadeIn("fast",function(){e=0})})}),$(".categories-wrapper .entry.toggle").on("click",function(){$(this).toggleClass("active"),$(this).next(".sub-wrapper").slideToggle("fast")}),$(".open-fullscreen").on("click",function(){$(".screen-preview-popup").addClass("active").find(".overflow img").attr("src",$(this).data("fullscreen")),$("body, html").toggleClass("overflow-hidden")}),$(".screen-preview-popup .close-popup").on("click",function(){$(".screen-preview-popup").removeClass("active"),$("body, html").toggleClass("overflow-hidden")}),$(".checkbox-entry.checkbox label").on("click",function(){$(this).parent().toggleClass("active"),$(this).parent().find("input").click()}),$(".checkbox-entry.radio label").on("click",function(){if($(this).parent().find("input").click(),!$(this).parent().hasClass("active")){var t=$(this).parent().find("input").attr("name");$('.checkbox-entry.radio input[name="'+t+'"]').parent().removeClass("active"),$(this).parent().addClass("active")}}),$(".responsive-filtration-title").on("click",function(){$(this).closest(".sorting-menu").toggleClass("active")}),$("#site-search").on("submit",function(){return $("#site-search input#q").val().length>0&&(window.location="https://www.google.ca/search?q=site:galileo.education+"+$("#site-search input#q").val()),!1}),$("#mailing-list").on("submit",function(){return $("#mailing-list input#q").val().length>0&&(window.location="http://dotbunny.us7.list-manage.com/subscribe?u=862e4c930cb0704921c2b54e3&id=124cd90a99&EMAIL="+$("#mailing-list input#q").val()),!1}),$(document).on("focus",".error-class",function(){$(this).removeClass("error-class")}),$(".form-popup-close-layer").on("click",function(){clearTimeout(formPopupTimeout),$(".form-popup").fadeOut(300)}),$(".mouse-icon").on("click",function(){$("body, html").animate({"scroll-top":t})}),$(".back-to-top").on("click",function(){$("body, html").animate({"scroll-top":0})}),$(".form-submit").on("click",function(){$(this).addClass("disabled"),$(this).data("id").length>0&&$("#"+$(this).data("id")).submit(),$(this).data("id","")}),$("#key-recovery").on("submit",function(){return $.post("/api/find-key.php",$("#key-recovery").serialize()).done(function(t){$("#key-recovery-response").html(t)}).fail(function(){$("#key-recovery-response").html("Unavailable At This Time")}),!1})});